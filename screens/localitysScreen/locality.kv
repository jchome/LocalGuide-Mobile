#:import IconTextButton kvx_widgets.icontextbutton.IconTextButton

<Locality>:
	grid_widget: grid_widget_id
	locality_label: locality_label_id

	BoxLayout:
		orientation: 'vertical'
		canvas.before:
			Color:
				rgba: 1,1,1, 1
			Rectangle:
				source: "images/background.jpg"
				pos: self.pos
				size: self.size

		ActionBar:
			background_image: "images/empty-25b.png"
			pos_hint: {'top':1}
			ActionView:
				use_separator: True
				ActionPrevious:
					title: 'Localité'
					previous_image: "images/ic_action_previous_item.png"
					app_icon: "images/app-icon.png"
					on_press: root.go_back()
				
				ActionOverflow:
				
				ActionButton:
					text: 'Refresh'
					icon: "images/ic_action_refresh.png"
					on_press: root.refresh()
				
		BoxLayout:
			orientation: 'horizontal'
			size_hint_y: None
			height: sp(120)
			spacing: sp(10)
			Image:
				source: "images/locality-icon.png"
				size_hint: (None, None)
				size: (sp(107), sp(120))
				
			Label:
				id: locality_label_id
				text: "Locality"
				font_size: '32sp'
				font_name: "fonts/segoe_ui_light.ttf"
				size_hint_x: 1
				size_hint_y: None
				text_size: (self.size[0], None)
				height: sp(107)
				halign: 'left'
				valign: 'middle'
			
		
		Label:
			canvas.before:
				Color:
					rgba: 0.85,0.85,0.85, 1
				Rectangle:
					pos: self.pos
					size: self.size
			text: "Points d'intéret par catégorie"
			font_size: '22sp'
			size_hint_y: None
			height: sp(28)
			halign: 'left'
			valign: 'middle'
			text_size: (self.size[0]-sp(20), None)
			color: (0.5,0.5,0.5, 1)
			
		GridLayout:
			canvas.before:
				Color:
					rgba: 0.95,0.95,0.95, 1
				Rectangle:
					pos: self.pos
					size: self.size
		
			id: grid_widget_id
			cols: 2
			size_hint_y: 1
			
			
		Label:
			canvas.before:
				Color:
					rgba: 0.85,0.85,0.85, 1
				Rectangle:
					pos: self.pos
					size: self.size
			text: "Accès"
			font_size: '22sp'
			size_hint_y: None
			height: sp(28)
			halign: 'left'
			valign: 'middle'
			text_size: (self.size[0]-sp(20), None)
			color: (0.5,0.5,0.5, 1)
			
		GridLayout:
			canvas.before:
				Color:
					rgba: 0.95,0.95,0.95, 1
				Rectangle:
					pos: self.pos
					size: self.size
			cols: 2
			size_hint_y: None
			height: sp(110)
			
			IconTextButton:
				text: 'Liste'
				icon: 'images/collections_view_as_list.png'
				on_press: root.display_list()
			
			IconTextButton:
				text: 'Carte'
				icon: 'images/location_01.png'
				on_press: root.display_map()
				
				

	