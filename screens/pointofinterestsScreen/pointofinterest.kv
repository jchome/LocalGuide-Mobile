#:import IconTextButton kvx_widgets.icontextbutton.IconTextButton
#:import IconText kvx_widgets.icontext.IconText
#:import ScrollableText kvx_widgets.scrollabletext.ScrollableText

<PointOfInterest>:
	poi_icon: poi_icon_id
	poi_label: poi_label_id
	poi_description: poi_description_id
	btn_audio: btn_audio_id
	btn_photo: btn_photo_id
	grid_btn: grid_btn_id
	multimedia_widgets_container: multimedia_widgets_container_id
	multimedia_title_label: multimedia_title_label_id
	
	BoxLayout:
		orientation: 'vertical'
		canvas.before:
			Color:
				rgba: 1,1,1, 1
			Rectangle:
				source: "images/background.jpg"
				pos: self.pos
				size: self.size

		ActionBar:
			background_image: "images/empty-25b.png"
			pos_hint: {'top':1}
			ActionView:
				use_separator: True
				ActionPrevious:
					title: 'Point d\'intérêt'
					#with_previous: False
					previous_image: "images/ic_action_previous_item.png"
					app_icon: "images/app-icon.png"
					on_press: root.go_back()
				
				ActionOverflow:
				
				
		GridLayout:
			cols: 2
			size_hint_y: None
			height: sp(120)
			spacing: sp(30)
			
			IconText:
				id: poi_icon_id
				icon: "images/category_SPORT.png"
				icon_size: sp(100)
				font_size: sp(14)
				text_color: (0.7,0.7,0.7, 1)
				text: "categorie"
				forced_width: sp(120)
				
			Label:
				id: poi_label_id
				text: "Point Of Interest"
				font_size: '32sp'
				font_name: "fonts/segoe_ui_light.ttf"
				size_hint_x: 1
				size_hint_y: None
				text_size: (self.size[0], None)
				height: sp(107)
				halign: 'left'
			
			
		Label:
			canvas.before:
				Color:
					rgba: 0.85,0.85,0.85, 1
				Rectangle:
					pos: self.pos
					size: self.size
			text: "Description"
			font_size: '22sp'
			size_hint_y: None
			height: sp(28)
			halign: 'left'
			valign: 'middle'
			text_size: (self.size[0]-sp(20), None)
			color: (0.5,0.5,0.5, 1)

		ScrollableText:
			id: poi_description_id
			text: "Aucune description"
			background_color: (0.95, 0.95, 0.95, 1)
			text_color: (0.1,0.1,0.1, 1)
			padding: (sp(4), sp(8))
			
		BoxLayout:
			id: multimedia_widgets_container_id
			orientation: 'vertical'
			size_hint_y: None
			height: sp(130)
			
			Label:
				id: multimedia_title_label_id
				canvas.before:
					Color:
						rgba: 0.85,0.85,0.85, 1
					Rectangle:
						pos: self.pos
						size: self.size
				text: "Documents multimedia"
				font_size: '22sp'
				size_hint_y: None
				height: sp(28)
				halign: 'left'
				valign: 'middle'
				text_size: (self.size[0]-sp(20), None)
				color: (0.5,0.5,0.5, 1)
			
			GridLayout:
				id: grid_btn_id
				canvas.before:
					Color:
						rgba: 0.95,0.95,0.95, 1
					Rectangle:
						pos: self.pos
						size: self.size
				cols: 2
				size_hint_y: None
				height: sp(110)
				
				IconTextButton:
					id: btn_audio_id
					text: 'Audio'
					icon: 'images/audio.png'
					on_press: root.play_audio()
				IconTextButton:
					id: btn_photo_id
					text: 'Photo'
					icon: 'images/photo.png'
					on_press: root.show_photo()
			
	