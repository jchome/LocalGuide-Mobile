#:import IconText kvx_widgets.icontext.IconText
<PointOfInterest>:
	poi_icon: poi_icon_id
	poi_label: poi_label_id
	poi_description: poi_description_id
	
	BoxLayout:
		orientation: 'vertical'
		canvas.before:
			Color:
				rgba: 1,1,1, 1
			Rectangle:
				source: "images/background.jpg"
				pos: self.pos
				size: self.size

		ActionBar:
			background_image: "images/empty-25b.png"
			pos_hint: {'top':1}
			ActionView:
				use_separator: True
				ActionPrevious:
					title: 'Point d\'intérêt'
					#with_previous: False
					previous_image: "images/ic_action_previous_item.png"
					app_icon: "images/app-icon.png"
					on_press: root.go_back()
				
				ActionOverflow:
				
				
		GridLayout:
			cols: 2
			size_hint_y: None
			height: sp(120)
			spacing: sp(30)
			
			IconText:
				id: poi_icon_id
				icon: "images/category_SPORT.png"
				icon_size: sp(100)
				font_size: sp(14)
				text_color: (0.7,0.7,0.7, 1)
				text: "categorie"
				forced_width: sp(120)
				
				
			#GridLayout:
			#	cols: 1
			#	size_hint: (None, None)
			#	size: (sp(100), sp(120))
			#	spacing: sp(0)
			#	Label:
			#		canvas.before:
			#			Rectangle:
			#				pos: self.pos
			#				size: self.size
			#				source: "images/category_SPORT.png"
			#		id: poi_image_id
			#		text: ""
			#		size_hint: (None, None)
			#		size: (sp(100), sp(100))
			#		pos_hint: {'center_x':0.5, 'top':0}
			#	Label:
			#		id: cat_label_id
			#		text: "categorie"
			#		font_size: '14sp'
			#		font_name: "fonts/segoe_ui_light.ttf"
			#		color: (0.7,0.7,0.7, 1)
			#		size_hint: (None, None)
			#		height: sp(18)
			#		width: sp(100)
					
				
			Label:
				id: poi_label_id
				text: "Point Of Interst"
				font_size: '32sp'
				font_name: "fonts/segoe_ui_light.ttf"
				size_hint_x: 1
				size_hint_y: None
				text_size: (self.size[0], None)
				height: sp(107)
				halign: 'left'
			
		
			
		Label:
			canvas.before:
				Color:
					rgba: 0.85,0.85,0.85, 1
				Rectangle:
					pos: self.pos
					size: self.size
			text: "Description"
			font_size: '22sp'
			size_hint_y: None
			height: sp(28)
			halign: 'left'
			valign: 'middle'
			text_size: (self.size[0]-sp(20), None)
			color: (0.5,0.5,0.5, 1)

		ScrollView:
			canvas.before:
				Color:
					rgba: 0.95,0.95,0.95, 1
				Rectangle:
					pos: self.pos
					size: self.size
			GridLayout:
				cols: 1
				height: poi_description_id.height + sp(20)
				size_hint_y: None
				
				Label:
					text: " "
					size_hint_y: None
					height: sp(4)
					
				GridLayout:
					rows: 1
					Label:
						text: " "
						size_hint_x: None
						width: sp(8)
					Label:
						id: poi_description_id
						text: "texte de description\ntexte de description\n1111\n0000"
						font_size: '18sp'
						color: (0.1,0.1,0.1, 1)
						valign: 'top'
						# make it scrollable
						text_size: (self.width, None)
						size_hint_y: None
						size: (self.parent.width, self.texture_size[1] )
					Label:
						text: " "
						size_hint_x: None
						width: sp(8)
				
	